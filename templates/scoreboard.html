{% extends 'base.html' %} {% block body %}

<h1>Scoreboard {{game.name}}</h1>
<span class="badge bg-warning text-dark">Rating: {{rating['rating']}}</span>
<span class="badge bg-primary text-light">Count: {{rating['count']}}</span>

<div class="table-responsive" style="max-height: 250px">
  <table class="table table-striped table-hover table-sm">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Name</th>
        <th scope="col">Score</th>
        <th scope="col">Plays</th>
        <th scope="col">Playtime (min)</th>
      </tr>
    </thead>
    <tbody>
      {% for play in scoreboard %}
      <tr class="{{'bg-warning' if loop.index == 1 else ''}}">
        <td>{{loop.index}}</td>
        <td>{{mail2name(play['player_email'])}}</td>
        <td>{{play['highscore']}}</td>
        <td>{{play['plays']}}</td>
        <td>{{play['play_time']}}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% if my_plays %}
<h1>My Plays</h1>
<div class="table-responsive" style="max-height: 250px">
  <table class="table table-striped table-hover table-sm">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Start</th>
        <th scope="col">Playtime (min)</th>
        <th scope="col">Score</th>
      </tr>
    </thead>
    <tbody>
      {% for play in my_plays %}
      <tr class="{{'bg-warning' if play['score'] == max_score else ''}}">
        <td>{{loop.index}}</td>
        <td>{{play['start_time']}}</td>
        <td>{{play['play_time']}}</td>
        <td>{{play['score']}}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endif %} {% endblock %}
