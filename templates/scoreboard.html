{% extends 'base.html' %} {% block body %}

<h1>Scoreboard {{game.name}}</h1>
<span class="badge badge-warning">Rating: {{rating['rating']}}</span>
<span class="badge badge-primary">Plays: {{rating['count']}}</span>

<div class="table-responsive">
  <table class="table table-striped table-hover table-sm">
    <thead>
      <tr>
        <th scope="col">Name</th>
        <th scope="col">Score</th>
        <th scope="col">Plays</th>
        <th scope="col">Playtime (min)</th>
      </tr>
    </thead>
    <tbody>
      {% for play in scoreboard %}
      <tr class="{{'bg-warning' if loop.index == 1 else ''}}">
        <td>{{' '.join(play['player_email'].split('@')[0].split('.'))}}</td>
        <td>{{play['highscore']}}</td>
        <td>{{play['plays']}}</td>
        <td>{{play['play_time']}}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

{% endblock %}
