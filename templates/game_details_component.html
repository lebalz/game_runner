<div class="card">
  <div class="card-header">
    {% include 'rating_component.html' %} {% if user.is_registered and
    (user.email == game.player_email or user.admin) %}
    <div class="d-flex justify-content-end align-items-center">
      <a href="/update_game?game_id={{game.id}}" class="btn btn-primary">
        <i class="fas fa-edit"></i
      ></a>
    </div>
    {% endif %} {% if compact is not defined or not compact %}
    <span class="badge bg-warning text-dark">Rating: {{rating['rating']}}</span>
    {% endif %} {% if not game.has_reporting %}
    <div>
      <span class="badge bg-danger text-dark">No Score Reporting</span>
    </div>
    {% endif %}
  </div>
  <div class="card-body">
    <h5 class="card-title">{{game.name}} by <i>{{game.authors}}</i></h5>
    <div
      class="score-container d-flex justify-content-between align-items-center"
    >
      {% if game.description.strip() != '' %}
      <div
        class="card-text"
        style="max-height: 9em; overflow: auto; width: 100%"
      >
        <pre>
          <code style="color: black">
            <p>{{game.description}}</p>
          </code>
        </pre>
      </div>

      {% else %}
      <p class="card-text"></p>
      {% endif %} {% if game.preview_img_url %}
      <img
        src="{{game.preview_img_url}}"
        height="150"
        style="border-radius: 5px"
      />
      {% endif %}
    </div>
    {% if compact is not defined or not compact %}
    <a href="/game/{{game.id}}" class="btn btn-primary">Play</a>
    {% endif %}
  </div>
</div>
